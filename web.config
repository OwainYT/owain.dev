<?xml version="1.0" encoding="utf-8"?>
<configuration>
	<system.webServer>
		<!-- IISNode handler for Node.js app -->
		<handlers>
			<add name="iisnode" path="app.js" verb="*" modules="iisnode" />
		</handlers>

		<!-- Optional: URL rewrite rules -->
		<rewrite>
			<rules>
				<rule name="NodeJS" stopProcessing="true">
					<match url="(.*)" />
					<action type="Rewrite" url="app.js" />
				</rule>
			</rules>
		</rewrite>

		<!-- Enable iisnode logging and file watching -->
		<iisnode watchedFiles="web.config;*.js" loggingEnabled="true" logDirectory="iisnode" />
	</system.webServer>
</configuration>
