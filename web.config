<?xml version="1.0" encoding="utf-8"?>
<configuration>
	<system.webServer>
		<!-- Add the handler for Node.js applications -->
		<handlers>
			<add name="iisnode" path="app.js" verb="*" modules="iisnode" />
		</handlers>

		<!-- URL rewriting (optional, but useful for routing) -->
		<rewrite>
			<rules>
				<rule name="NodeJS" stopProcessing="true">
					<match url="(.*)" />
					<action type="Rewrite" url="app.js" />
				</rule>
			</rules>
		</rewrite>

		<!-- Enable IISNode settings (logging, watched files) -->
		<iisnode watchedFiles="web.config;*.js" loggingEnabled="true" logDirectory="iisnode" />
	</system.webServer>
</configuration>
