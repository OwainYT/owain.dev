<?xml version="1.0" encoding="utf-8"?>
<configuration>
	<system.webServer>
		<!-- Define a handler for Node.js using IISNode -->
		<handlers>
			<add name="iisnode" path="app.js" verb="*" modules="iisnode" resourceType="Unspecified" />
		</handlers>

		<!-- Enable IISNode to watch files like app.js -->
		<iisnode watchedFiles="web.config;*.js" loggingEnabled="true" logDirectory="iisnode" />

		<!-- URL Rewrite Rules (optional) -->
		<rewrite>
			<rules>
				<rule name="NodeJS" stopProcessing="true">
					<match url="(.*)" />
					<action type="Rewrite" url="app.js" />
				</rule>
			</rules>
		</rewrite>
	</system.webServer>
</configuration>
